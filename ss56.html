<script>

    const manifestUri = "https://vkvsd231.okcdn.ru/cmaf/7359527520999/sig/RMCSXwjHih8/expires/1732471758222/srcIp/223.177.172.9/urls/45.136.22.54/clientType/13/srcAg/CHROME_ANDROID/mid/8666709896167/get/dash_8666709896167.zKIZpMb448I.mpd"; // Update with your MPD URL

    async function init() {

        const video = document.getElementById('video');

        const player = new shaka.Player(video);

        const ui = new shaka.ui.Overlay(player, video);

        

        // Configure the player

        player.configure({

            streaming: {

                bufferingGoal: 30, // Set buffering goal to 30 seconds

                maxBufferSize: 600 // Limit maximum buffer size to 600 seconds

            }

        });

        window.player = player;

        window.ui = ui;

        player.addEventListener('error', onPlayerErrorEvent);

        try {

            await player.load(manifestUri);

            console.log('The video has now been loaded!');

        } catch (error) {

            onPlayerError(error);

        }

    }

    function onPlayerErrorEvent(errorEvent) {

        onPlayerError(errorEvent.detail);

    }

    function onPlayerError(error) {

        console.error('Error code', error.code, 'object', error);

    }

    document.addEventListener('shaka-ui-loaded', init);

    document.addEventListener('shaka-ui-load-failed', initFailed);

</script>
